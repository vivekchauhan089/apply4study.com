import{r as o,j as e}from"../chunks/chunk-C2d9lkPd.js";import{A as M,u as z}from"../chunks/chunk-BVvAWEZ2.js";/* empty css                      */import{R as D}from"../chunks/chunk-CDigAZVg.js";import{N as W}from"../chunks/chunk-CZD2lAUx.js";import"../chunks/chunk-Btpf6lvy.js";var U={};function V({userId:i,courseId:f,lessons:g=[],startLessonId:N,isOpen:y,onClose:j}){const d=o.useRef(null);o.useEffect(()=>{const s=document.createElement("div");return s.className="course-player-portal",document.body.appendChild(s),d.current=s,()=>{d.current&&document.body.removeChild(d.current),d.current=null}},[]),o.useEffect(()=>{if(!d.current)return;let s=d.current.parentElement;for(;s;){const t=getComputedStyle(s);if(t.transform&&t.transform!=="none"||t.filter&&t.filter!=="none"||t.perspective&&t.perspective!=="none"||t.willChange&&t.willChange!=="auto"){console.warn("Ancestor with transform/filter detected which can trap fixed children:",s,{transform:t.transform,filter:t.filter,perspective:t.perspective,willChange:t.willChange});break}s=s.parentElement}},[d.current]);const x=o.useRef(null),b=g.findIndex(s=>s.id===N),[r,h]=o.useState(b>=0?b:0),[n,a]=o.useState({}),[Y,C]=o.useState(!1),[Z,S]=o.useState(null),I=o.useRef(null),P=900,[u,q]=o.useState(g[r]?g[r]:null),v=`course_progress_${f}_${i}`,k=U.REACT_APP_API_URL;o.useEffect(()=>{let s=!0;async function t(){try{const l=await fetch(`${k}/course/progress`,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjM0LCJ1c2VyX3R5cGVfaWQiOjAsInJvbGUiOiJndWVzdCIsImlhdCI6MTc1ODg4NDcwOCwiZXhwIjoxNzY0MDY4NzA4fQ.zWg19kpqcRf0sxKzrioWP_HzogoC5fHQPeGHTE6nZpc"},body:JSON.stringify({userId:i,courseId:f})});if(!l.ok)throw new Error(`API error ${l.status}`);const m=await l.json();if(!s)return;if(m&&m.success&&Array.isArray(m.data)){const c={};m.data.forEach(p=>{c[p.lessonId]={progress:typeof p.progress=="number"?p.progress:0,completed:!!p.completed,lastUpdated:p.lastUpdated||null}}),a(c);try{localStorage.setItem(v,JSON.stringify(c))}catch{}}else{const c=localStorage.getItem(v);c&&a(JSON.parse(c))}}catch{const m=localStorage.getItem(v);m&&a(JSON.parse(m)),S("Could not reach progress API, using local progress (offline).")}}return i&&f&&t(),()=>{s=!1}},[i,f]);const O=(s,t,l=!1)=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{w(s,t,l)},P)},w=async(s,t,l=!1)=>{C(!0);const m={userId:i,courseId:f,lessonId:s,progress:t,completed:l};a(c=>({...c,[s]:{progress:t,completed:l,lastUpdated:new Date().toISOString()}}));try{const c=await fetch(`${k}/course/progress`,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjM0LCJ1c2VyX3R5cGVfaWQiOjAsInJvbGUiOiJndWVzdCIsImlhdCI6MTc1ODg4NDcwOCwiZXhwIjoxNzY0MDY4NzA4fQ.zWg19kpqcRf0sxKzrioWP_HzogoC5fHQPeGHTE6nZpc"},body:JSON.stringify(m)});if(!c.ok)throw new Error(`Save failed: ${c.status}`);const p=await c.json();try{localStorage.setItem(v,JSON.stringify({...n,[s]:{progress:t,completed:l,lastUpdated:new Date().toISOString()}}))}catch{}return C(!1),p}catch{try{const p={...n,[s]:{progress:t,completed:l,lastUpdated:new Date().toISOString()}};localStorage.setItem(v,JSON.stringify(p)),C(!1),S("Could not save to server â€” progress saved locally.")}catch{C(!1),S("Could not save progress.")}}},_=()=>{const s=x.current;if(!s||!u||!s.duration)return;const t=Math.round(s.currentTime/s.duration*100),l=n[u.id]?.progress||0;t!==l&&O(u.id,t,t>=99)},A=()=>{u&&w(u.id,100,!0)},E=()=>{u&&w(u.id,100,!0)};if(!y||!d.current)return null;const R={position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.65)",zIndex:999999},J={width:"min(1100px, 96vw)",maxHeight:"90vh",overflow:"hidden",borderRadius:12,background:"#fff",boxShadow:"0 10px 30px rgba(0,0,0,0.25)",position:"relative",display:"flex",gap:16},T={flex:2,padding:16,display:"flex",flexDirection:"column",gap:12},L={flex:1,padding:16,overflowY:"auto",borderLeft:"1px solid #eee"};return D.createPortal(e.jsx("div",{style:R,onClick:j,role:"dialog","aria-modal":"true",children:e.jsxs("div",{style:J,onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:j,style:{position:"absolute",right:12,top:12,border:"none",background:"transparent",fontSize:20,cursor:"pointer"},"aria-label":"Close",children:"âœ–"}),e.jsxs("div",{style:T,children:[e.jsx("h3",{style:{margin:0},children:u?.title??"No lesson selected"}),e.jsx("div",{style:{aspectRatio:"16/9",background:"#000",borderRadius:8,overflow:"hidden"},children:u?e.jsx("video",{ref:x,src:u.src,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},onTimeUpdate:_,onEnded:A},u.id):e.jsx("div",{style:{color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:"No lesson"})}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>{const s=x.current;s&&(s.currentTime=Math.max(0,(s.currentTime||0)-10))},children:"â—€ 10s"}),e.jsx("button",{onClick:()=>{const s=x.current;s?s.pause():s&&s.play().catch(()=>{})},children:"Play/Pause"}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx("button",{onClick:E,children:"Mark as Complete"})})]})]}),e.jsxs("aside",{style:L,children:[e.jsx("h4",{style:{marginTop:0},children:"Lessons"}),e.jsx("ul",{style:{padding:0,margin:0,listStyle:"none",display:"flex",flexDirection:"column",gap:8},children:g.map((s,t)=>e.jsx("li",{children:e.jsx("button",{onClick:()=>h(t),style:{width:"100%",textAlign:"left",padding:"10px",borderRadius:6,background:t===r?"#f3f4f6":"transparent",border:"none",cursor:"pointer"},children:e.jsx("div",{style:{fontWeight:600},children:s.title})})},s.id))})]})]})}),d.current)}var $={};const G=()=>{const[i,f]=o.useState("popular"),[g,N]=o.useState([]),[y,j]=o.useState(null),d=$.REACT_APP_API_URL;o.useEffect(()=>{fetch(`${d}/courses`,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjM0LCJ1c2VyX3R5cGVfaWQiOjAsInJvbGUiOiJndWVzdCIsImlhdCI6MTc1ODg4NDcwOCwiZXhwIjoxNzY0MDY4NzA4fQ.zWg19kpqcRf0sxKzrioWP_HzogoC5fHQPeGHTE6nZpc"},body:JSON.stringify({user_id:"68d27fa20a1b391f84d652ba",source:"Livguard"})}).then(r=>r.json()).then(r=>{r.data?N(r.data):console.error("Error:",r.error)}).catch(r=>console.error(r))},[]);const x=(r,h)=>{j({courseId:r._id,lessons:r.videos.map(n=>({id:n._id.toString(),title:n.name,src:n.url})),startLessonId:h._id.toString()})},b=(r,h)=>{const n=[];for(let a=0;a<r.length;a+=h)n.push(r.slice(a,a+h));return n};return e.jsx("section",{className:"course-posts section light-background",children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"section-title","data-aos":"fade-up",children:[e.jsx("h5",{children:"Popular Courses"}),e.jsx("p",{children:"We offer a variety of courses to suit your learning needs. Explore our options and find the perfect fit for you."})]}),e.jsxs("div",{className:"text-center mb-5 tabs",children:[e.jsx("button",{className:`btn theme-btn mx-2 ${i==="popular"?"active":""}`,onClick:()=>f("popular"),children:"For Students"}),e.jsx("button",{className:`btn theme-btn mx-2 ${i==="recommended"?"active":""}`,onClick:()=>f("recommended"),children:"For Teachers"})]}),i==="popular"&&e.jsx(e.Fragment,{children:b(g,3).map((r,h)=>e.jsx("div",{className:"row gy-4 featured",children:r.map(n=>e.jsx("div",{className:"col-lg-4",children:e.jsxs("article",{children:[e.jsx("div",{className:"post-img",children:e.jsx("div",{children:e.jsx("img",{alt:"",className:"img-fluid",src:n.courseImage??"/static/media/blog-1.97a1a61032fc6b5b3c4c.jpg"})})}),e.jsx("p",{className:"post-category",children:"Study Tips"}),e.jsxs("h3",{className:"title mb-2",children:[n.courseName," - ",e.jsx("sup",{children:"â‚¹"}),"19",e.jsx("span",{children:"/month"})]}),e.jsx("a",{href:"#",className:"buy-btn",children:"Enroll Now"}),e.jsx("ul",{children:n.videos.map(a=>e.jsxs("li",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{className:"bi bi-play-circle"})," ",a.name]}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>x(n,a),children:"â–¶ Play"})]},a._id))})]})},n._id))},h))}),i==="recommended"&&e.jsx(e.Fragment,{children:b(g,3).map((r,h)=>e.jsx("div",{className:"row gy-4 featured",children:r.map(n=>e.jsx("div",{className:"col-lg-4",children:e.jsxs("article",{children:[e.jsx("div",{className:"post-img",children:e.jsx("div",{children:e.jsx("img",{alt:"",className:"img-fluid",src:n.courseImage??"/static/media/blog-1.97a1a61032fc6b5b3c4c.jpg"})})}),e.jsx("p",{className:"post-category",children:"Study Tips"}),e.jsxs("h3",{className:"title mb-2",children:[n.courseName," - ",e.jsx("sup",{children:"â‚¹"}),"19",e.jsx("span",{children:"/month"})]}),e.jsx("a",{href:"#",className:"buy-btn",children:"Enroll Now"}),e.jsx("ul",{children:n.videos.map(a=>e.jsxs("li",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{className:"bi bi-play-circle"})," ",a.name]}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>x(n,a),children:"â–¶ Play"})]},a._id))})]})},n._id))},h))}),y&&e.jsx(V,{userId:"68d27fa20a1b391f84d652ba",courseId:y.courseId.toString(),lessons:y.lessons,startLessonId:y.startLessonId,isOpen:!0,onClose:()=>j(null)})]})})};var H={};function X(){o.useEffect(()=>{M.init({duration:1e3})},[]);const i=H.REACT_APP_URL;return z({title:"Explore Online Courses â€” Apply4Study",description:"Browse Apply4Studyâ€™s collection of online courses designed to enhance your learning journey.",canonical:`${i}/courses`,schema:{datePublished:"2025-10-01",dateModified:new Date().toISOString().split("T")[0],"@context":"https://schema.org","@type":"ItemList",itemListElement:[{"@type":"Course",name:"Full-Stack Web Development",description:"Learn React, Node.js, and MongoDB in this full-stack developer course.",url:`${i}/courses/fullstack-web-development`},{"@type":"Course",name:"Digital Marketing Essentials",description:"Master SEO, SEM, and social media marketing strategies.",url:`${i}/courses/digital-marketing`},{"@type":"Course",name:"Data Science with Python",description:"Hands-on Python, Pandas, and Machine Learning training.",url:`${i}/courses/data-science`}]}}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"price-page",children:[e.jsx("div",{className:"page-title dark-background pricing_bg",children:e.jsxs("div",{className:"container position-relative",children:[e.jsx("h1",{children:"Enroll Courses"}),e.jsx("nav",{className:"breadcrumbs",children:e.jsxs("ol",{children:[e.jsx("li",{children:e.jsx("a",{href:i,children:"Home"})}),e.jsx("li",{className:"current",children:"Courses"})]})})]})}),e.jsx("section",{className:"section",children:e.jsxs("div",{className:"container section-title","data-aos":"fade-up",children:[e.jsx("h5",{children:" Learn More. Pay Less. Choose What Fits You Best."}),e.jsxs("p",{children:["At ",e.jsx("strong",{children:"Apply4Study"}),", we believe in making quality education affordable and flexible. Whether you're just getting started or ready to go all in, we have a plan that matches your goals â€” and your budget."]})]})}),e.jsx(G,{}),e.jsx("section",{className:"stats section mb-3",children:e.jsxs("div",{className:"container section-title col-lg-6 col-md-6 col-12 pb-0","data-aos":"fade-up",children:[e.jsx("h3",{children:"ðŸ”’ No Hidden Fees. Cancel Anytime."}),e.jsx("p",{children:"We offer secure payments, flexible billing, and the freedom to pause or cancel your subscription anytime."}),e.jsx("p",{children:"We offer custom plans with admin dashboards, group analytics, and teacher tools."}),e.jsx("p",{className:"my-3",children:e.jsxs("strong",{children:["ðŸ“§ Email us at ",e.jsx("a",{href:"mailto:blog@apply4study.com",title:" blog@apply4study.com",children:"blog@apply4study.com"})," to pitch your idea!"]})})]})}),e.jsx("section",{className:"stats section mb-3 light-background",children:e.jsxs("div",{className:"container section-title col-lg-6 col-md-6 col-12 pb-0","data-aos":"fade-up",children:[e.jsx("h3",{children:"ðŸŽ“ Special Plans for Schools & Groups"}),e.jsx("p",{children:"Are you a school, institution, or learning center?"}),e.jsx("p",{children:"We offer custom plans with admin dashboards, group analytics, and teacher tools."}),e.jsx("p",{className:"my-3",children:e.jsxs("strong",{children:["ðŸ“§ Email us at ",e.jsx("a",{href:"mailto:blog@apply4study.com",title:" blog@apply4study.com",children:"blog@apply4study.com"})," to pitch your idea!"]})})]})}),e.jsx(W,{})]})})}const F="/courses",Q={title:{default:"Courses",template:"%s â€” Apply4Study",config:{}},description:{default:"Courses page",config:{}}},ae={Page:X,route:F,documentProps:Q};export{ae as default,Q as documentProps,F as route};
